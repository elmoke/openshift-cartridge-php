;;;;;;;;;;;;;;;;;;;;;
; FPM Configuration ;
;;;;;;;;;;;;;;;;;;;;;

; All relative paths in this configuration file are relative to PHP's install
; prefix (<compile_dir>). This prefix can be dynamically changed by using the
; '-p' argument from the command line.

; Include one or more files. If glob(3) exists, it is used to include a bunch of
; files from a glob(3) pattern. This directive can be used everywhere in the
; file.
; Relative path can also be used. They will be prefixed by:
;  - the global prefix if it's been set (-p argument)
;  - <compile_dir> otherwise
;include=etc/fpm.d/*.conf

;;;;;;;;;;;;;;;;;;
; Global Options ;
;;;;;;;;;;;;;;;;;;

[global]
pid = <%= ENV['OPENSHIFT_PHP_DIR'] %>/pid/php-fpm-<%= ENV['OPENSHIFT_GEAR_UUID'] %>.pid
error_log = <%= ENV['OPENSHIFT_LOG_DIR'] %>/php-fpm-error.log

;;;;;;;;;;;;;;;;;;;;
; Pool Definitions ; 
;;;;;;;;;;;;;;;;;;;;

[www]
prefix = <%= ENV['OPENSHIFT_PHP_DIR'] %>/usr/php-<%= ENV['OPENSHIFT_PHP_VERSION'] %>
user = nobody
group = nobody
listen = <%= ENV['OPENSHIFT_PHP_SOCKET'] %>
pm = dynamic
pm.max_children = 5
pm.start_servers = 2
pm.min_spare_servers = 1
pm.max_spare_servers = 3
